---
layout: post
title: "å°ç±³è·¯ç”±å™¨3å®‰è£…SSå®¢æˆ·ç«¯"
date: 2018-05-26 15:24:28
categories: æŠ˜è…¾ 
tags: å°ç±³è·¯ç”±å™¨ shadowsocks ss ç§‘å­¦ä¸Šç½‘
---
ç°åœ¨å±‹é‡Œçš„wifiç”¨çš„æ˜¯å°ç±³è·¯ç”±å™¨3ï¼Œä¹‹å‰ä¹ŸæŠ˜è…¾è¿‡ä¸€æ¬¡ï¼ˆå°†romå®˜æ–¹åˆ·æˆPadavanï¼Œç”±äºè€ƒè™‘åˆ°éå®˜æ–¹æ‹…å¿ƒå®‰å…¨æ€§é—®é¢˜ä»¥åŠä¸èƒ½ä½¿ç”¨appè¿œç¨‹æ§åˆ¶ï¼Œæ‰€ä»¥åˆå°†romåˆ·å›äº†å®˜æ–¹ï¼‰ï¼Œæœ¬æ¬¡æŠ˜è…¾æ˜¯ä¸ºè·¯ç”±å™¨å®‰è£…sså®¢æˆ·ç«¯ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡è·¯ç”±å™¨ä»£ç†æ¥ç§‘å­¦ä¸Šç½‘ï¼Œè€Œä¸éœ€è¦æ¯ä¸ªè®¾å¤‡éƒ½å¼€ä¸€ä¸ªå®¢æˆ·ç«¯æ¥ä»£ç†ã€‚
# å‡†å¤‡æ¡ä»¶
å®ç°éœ€è¦ä¿è¯è·¯ç”±å™¨å¼€å¯sshï¼Œç”±äºä¹‹å‰æŠ˜è…¾çš„æ—¶å€™å·²ç»å¼€å¯äº†ï¼Œè¿™æ¬¡ä¸ç”¨åœ¨é…ç½®äº†

æ²¡æœ‰å¼€å¯çš„è¯å¯ä»¥åœ¨åˆ°[http://www1.miwifi.com/miwifi_download.html](http://www1.miwifi.com/miwifi_download.html)ä¸‹è½½å¼€å‘ç‰ˆROMå¹¶åˆ·å…¥ã€‚ç„¶ååˆ°[https://d.miwifi.com/rom/ssh](https://d.miwifi.com/rom/ssh)ä¸‹è½½sshå·¥å…·åŒ…åˆ·å…¥ï¼Œå¹¶åœ¨è¯¥é¡µè·å–`sshç™»é™†å¯†ç `ã€‚

## è¿æ¥è·¯ç”±å™¨
```shell
ssh root@miwifi.com
```
è¾“å…¥`sshç™»é™†å¯†ç `ç™»å…¥`XiaoQiang`

![](\assets\images\post\å±å¹•å¿«ç…§ 2018-05-26 ä¸‹åˆ4.18.50.png)

# å®‰è£…MTå·¥å…·ç®±

## ç½‘ä¸Šå¸–å­å®‰è£…
å‚è€ƒ[http://www.miui.com/thread-7520321-1-2.html](http://www.miui.com/thread-7520321-1-2.html)

å®‰è£…
```shell
wget http://www.misstar.com/tools/appstore/install.sh -O /tmp/install.sh && chmod +x /tmp/install.sh && /tmp/install.sh
```

å¸è½½
```shell
wget http://www.misstar.com/tools/uninstall.sh -O /tmp/uninstall.sh && chmod +x /tmp/uninstall.sh && /tmp/uninstall.sh
```

## å®é™…å®‰è£…è¿‡ç¨‹

åœ¨å®é™…å®‰è£…è¿‡ç¨‹ä¸­è¿œæ²¡æœ‰ç®€å•ä¸€æ¡å‘½ä»¤å¯ä»¥æå®šï¼Œæˆ‘çš„å¼€å‘ç‰ˆromç‰ˆæœ¬æ˜¯`2.25.46`ï¼Œå®‰è£…å®ŒMTæ˜¯è¿™æ ·çš„

![](\assets\images\post\å±å¹•å¿«ç…§ 2018-05-26 ä¸‹åˆ4.37.28.png)

ç„¶åæˆ‘åœ¨[http://www.miui.com/thread-12175383-1-1.html](http://www.miui.com/thread-12175383-1-1.html)è¿™é‡Œæ‰¾åˆ°äº†åŸå› ï¼šå°ç±³åœ¨è·¯ç”±å™¨æ–°ç‰ˆå›ºä»¶ä¸­æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶è¢«åŠ å¯†äº†ï¼ï¼ï¼

è¯¥å¸–å­ä¹Ÿç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼Œåˆ·å›ä½ç‰ˆæœ¬ï¼ˆ2.21.166åŠä¹‹å‰ç‰ˆæœ¬ï¼‰

ç´§æ¥ç€æˆ‘åˆåœ¨[http://bbs.xiaomi.cn/t-14764208](http://bbs.xiaomi.cn/t-14764208)æ‰¾åˆ°äº†å¦ä¸€ç§è§£å†³æ–¹æ¡ˆï¼š

æ–°å»º`/usr/lib/lua/luci/controller/web/index2.lua`æ–‡ä»¶å¹¶å†™å…¥ä»¥ä¸‹å†…å®¹

```lua
module("luci.controller.web.index2", package.seeall) 

function index()      
     local page   = node("web","misstar")          
     page.target  = firstchild()         
     page.title   = ("")          
     page.order   = 100          
     page.sysauth = "admin"          
     page.sysauth_authenticator = "jsonauth"          
     page.index = true          

     entry({"web", "misstar", "index"}, template("web/setting/misstar/index"), _("Tools"), 81)          
     entry({"web", "misstar", "add"}, template("web/setting/misstar/add"), _("Tools"), 82)          
     entry({"web", "misstar"}, alias("web","misstar","index"), _("Tools"), 80)          
     entry({"web", "misstar", "ss"}, template("web/setting/applications/ss/html/ss"), _("Tools"), 85)          
     entry({"web", "misstar","frp"}, template("web/setting/applications/frp/html/frp"), _("Tools"), 85)          
     entry({"web", "misstar","aliddns"}, template("web/setting/applications/aliddns/html/aliddns"), _("Tools"), 85)  
     entry({"web", "misstar","adm"}, template("web/setting/applications/adm/html/adm"), _("Tools"), 85)    
     entry({"web", "misstar","koolproxy"}, template("web/setting/applications/koolproxy/html/koolproxy"), _("Tools"), 85)
     entry({"web", "misstar","rm"}, template("web/setting/applications/rm/html/rm"), _("Tools"), 85)
     entry({"web", "misstar","aria2"}, template("web/setting/applications/aria2/html/aria2"), _("Tools"), 85) 
     entry({"web", "misstar","webshell"}, template("web/setting/applications/webshell/html/webshell"), _("Tools"), 85)
     entry({"web", "misstar","pptpd"}, template("web/setting/applications/pptpd/html/pptpd"), _("Tools"), 85)  
     entry({"web", "misstar","ftp"}, template("web/setting/applications/ftp/html/ftp"), _("Tools"), 85)
     entry({"web", "misstar","kms"}, template("web/setting/applications/kms/html/kms"), _("Tools"), 85)  
end  
```
æ¸…ç†ç¼“å­˜
```
rm -rf /tmp/luci-indexcache 
```

åˆ·æ–°é¡µé¢å‘ç°å¥½ä½¿äº†ğŸ˜„

### ps
`lua`å†™çš„çœ‹ä¸å¤ªæ‡‚ï¼Œå¤§æ¦‚æ˜¯åšäº†urlæ˜ å°„

# å®‰è£…SSå®¢æˆ·ç«¯
ç”±äºä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„æ„¿æ„ï¼Œä¼°è®¡MTå·¥å…·ç®±çš„ä½œè€…è¢«è¯·å»å–è¿‡èŒ¶äº†ï¼Œæ‰€ä»¥æœ¬æ¥è‡ªå¸¦sså®¢æˆ·ç«¯åœ¨MTä¸­ç§»é™¤äº†ï¼ˆæ²¡æœ‰çœŸçš„ç§»é™¤ï¼Œåªæ˜¯ä¸èƒ½åœ¨ç•Œé¢è¿›è¡Œå®‰è£…äº†ï¼‰

## å®‰è£…
å®¡æŸ¥å…ƒç´ å°†ä»»æ„ä¸€ä¸ªæ’ä»¶å®‰è£…æŒ‰é’®çš„idæ”¹ä¸º`ss`ï¼Œç„¶åç‚¹å‡»è¯¥æŒ‰é’®å³å¯å®Œæˆ[ç§‘å­¦ä¸Šç½‘]æ’ä»¶çš„å®‰è£…ã€‚

![](\assets\images\post\å±å¹•å¿«ç…§ 2018-05-26 ä¸‹åˆ4.59.57.png)

![](\assets\images\post\å±å¹•å¿«ç…§ 2018-05-26 ä¸‹åˆ5.09.30.png)

ç„¶åè¿›å…¥â€˜ç§‘å­¦ä¸Šç½‘æ’ä»¶â€™é…ç½®èŠ‚ç‚¹åŠè§„åˆ™å³å¯ã€‚

# åè®°

ä¹‹å‰åˆ·è¿‡åç¡•çš„Padavanå›ºä»¶ï¼Œé‡Œé¢åŠŸèƒ½æ¯”å®˜æ–¹çš„å¤šå¾ˆå¤šï¼Œä¹Ÿè‡ªå¸¦SSå®¢æˆ·ç«¯ã€‚

ç½‘ä¸Šçœ‹åˆ°çš„ï¼Œå…³äºssçš„ä¸€äº›åŠ å¯†æ–¹å¼ç‰¹å¾è¾ƒæ˜æ˜¾ï¼Œæ¨èåŠ å¯†æ–¹å¼ï¼š`aes-256-gcm` ã€`chacha20-ietf-poly1305`ã€`aes-128-gcm`ã€`aes-192-gcm` ï¼ˆæ’ååˆ†å…ˆåï¼‰ã€‚

æˆ‘ç›®å‰ä½¿ç”¨çš„æ˜¯`aes-256-cfb`ï¼Œæš‚æ—¶æ²¡ä»€ä¹ˆçŠ¶å†µğŸ¤¦â€â™‚ï¸

